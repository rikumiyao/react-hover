{"version":3,"sources":["../src/ReactHover.js"],"names":["ReactHover","props","state","children","PropTypes","object","hoverComponentStyle","display","position","zIndex","item","index","type","name","childrenWithProps","child","push","React","cloneElement","setVisibility","bind","getCursorPos","styles","map","renderItem","flag","updatedStyles","setState","e","cursorX","clientX","cursorY","clientY","options","followCursor","shiftX","shiftY","isNaN","top","left","Component","array","isRequired","className","string","oneOfType","number","Trigger","Hover"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Hover from './lib/Hover'\nimport Trigger from './lib/Trigger'\nimport PropTypes from 'prop-types'\n\nclass ReactHover extends Component {\n  static propTypes = {\n    children: PropTypes.array.isRequired,\n    options: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    zIndex: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number\n    ])\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      children: PropTypes.object,\n      hoverComponentStyle: {\n        display: 'none',\n        position: 'fixed',\n        zIndex: props.zIndex\n      }\n    }\n  }\n\n  renderItem (item, index) {\n    if (item.type.name === 'Trigger' || item.props.type === 'trigger') {\n      return (\n        <Trigger key={index}>\n          {item}\n        </Trigger>\n      )\n    } else if (item.type.name === 'hover' || item.props.type === 'hover') {\n      return (\n        <Hover key={index}>\n          {item}\n        </Hover>\n      )\n    }\n  }\n\n  render () {\n    const { hoverComponentStyle } = this.state\n    let childrenWithProps = []\n    for (let child of this.props.children) {\n      if (child.props) {\n        if (child.type.name === 'Trigger' || child.props.type === 'trigger') {\n          childrenWithProps.push(React.cloneElement(child, {\n            setVisibility: this.setVisibility.bind(this),\n            getCursorPos: this.getCursorPos.bind(this)\n          }))\n        } else if (child.type.name === 'Hover' || child.props.type === 'hover') {\n          childrenWithProps.push(React.cloneElement(child, {\n            styles: hoverComponentStyle,\n            setVisibility: this.setVisibility.bind(this),\n            getCursorPos: this.getCursorPos.bind(this)\n          }))\n        }\n      }\n    }\n\n    return (\n      <div>\n        {childrenWithProps.map((item, index) => this.renderItem(item, index))}\n      </div>\n    )\n  }\n\n  setVisibility (flag) {\n    let { hoverComponentStyle } = this.state\n    let updatedStyles = null\n    if (flag) {\n      updatedStyles = { ...hoverComponentStyle, display: 'block' }\n    } else {\n      updatedStyles = { ...hoverComponentStyle, display: 'none' }\n    }\n    this.setState({\n      hoverComponentStyle: updatedStyles\n    })\n  }\n\n  getCursorPos (e) {\n    const cursorX = e.clientX\n    const cursorY = e.clientY\n    let { options: { followCursor, shiftX, shiftY } } = this.props\n    let { hoverComponentStyle } = this.state\n    let updatedStyles = null\n    if (!followCursor) {\n      return\n    }\n    if (isNaN(shiftX)) {\n      shiftX = 0\n    }\n    if (isNaN(shiftY)) {\n      shiftY = 0\n    }\n    updatedStyles = { ...hoverComponentStyle, top: cursorY + shiftY, left: cursorX + shiftX }\n    this.setState({\n      hoverComponentStyle: updatedStyles\n    })\n  }\n}\n\nReactHover.Trigger = Trigger\nReactHover.Hover = Hover\n\nexport default ReactHover\n"],"file":"ReactHover.js"}